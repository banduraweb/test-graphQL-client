(this["webpackJsonptest-graphql-client"]=this["webpackJsonptest-graphql-client"]||[]).push([[0],{152:function(e,t,n){e.exports=n(256)},157:function(e,t,n){},159:function(e,t,n){},223:function(e,t,n){},252:function(e,t,n){},256:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(7),l=n(57),c=n(15);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(157);var s=n(96),o=n.n(s),u=n(120),m=n(100),d=n(97),f=n(260),g=n(148),p=n(265),h=n(263),E=n(258),v=(n(159),function(e){var t=e.title,n=e.error?r.a.createElement(p.a,{type:"error",message:"Uh oh! Something went wrong - please try again later :("}):null,a=Object(g.a)(Array(4).keys()).map((function(e){return r.a.createElement("div",{key:e,className:"listings__skeleton"},r.a.createElement(h.a,{active:!0,paragraph:{rows:1}}),r.a.createElement(E.a,null))}));return r.a.createElement(r.a.Fragment,null,n,r.a.createElement("h2",null,t),a)}),O=n(262),b=n(261),y=n(259),w=(n(223),function(e){var t=e.modal,n=e.closeModal,a=t.additionalInfo;return r.a.createElement(O.a,{title:a.title,centered:!0,visible:t.visible,onOk:function(){return n()},onCancel:function(){return n()},footer:null},r.a.createElement(b.a.Item,null,r.a.createElement(b.a.Item.Meta,{title:a.title,description:a.address,avatar:r.a.createElement(y.a,{src:a.image,shape:"square",size:130})})),r.a.createElement("h5",null,"numOfBeds : ",a.numOfBeds),r.a.createElement("h5",null,"rating : ",a.rating),r.a.createElement("h5",null,"price: ",a.price))}),j=n(58),k=n(139),I=n(264);n(252);function B(){var e=Object(d.a)(["\n  mutation DeleteListings($id: ID!) {\n    deleteListings(id: $id) {\n      id\n    }\n  }\n"]);return B=function(){return e},e}function L(){var e=Object(d.a)(["\n  query Listings {\n    listings {\n      id\n      title\n      image\n      address\n      price\n      numOfGuests\n      numOfBeds\n      numOfBaths\n      rating\n    }\n  }\n"]);return L=function(){return e},e}var _=Object(l.b)(L()),q=Object(l.b)(B()),M=function(){var e=Object(a.useState)({visible:!1,additionalInfo:{id:"",title:"",image:"",address:"",price:0,numOfGuests:0,numOfBeds:0,numOfBaths:0,rating:0,__typename:"Listing"}}),t=Object(m.a)(e,2),n=t[0],i=t[1],l=Object(f.b)(_),c=l.data,s=l.loading,d=l.refetch,g=l.error,h=Object(f.a)(q),E=Object(m.a)(h,2),O=E[0],B=E[1],L=B.loading,M=B.error,N=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({variables:{id:t}});case 2:d();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=c?c.listings:null,x=S?r.a.createElement(b.a,{itemLayout:"horizontal",dataSource:S,renderItem:function(e){return r.a.createElement(b.a.Item,{actions:[r.a.createElement(j.a,{onClick:function(){i({visible:!0,additionalInfo:e})},type:"primary"},"More info"),r.a.createElement(j.a,{type:"danger",onClick:function(){return N(e.id)}},r.a.createElement(I.a,null))]},r.a.createElement(b.a.Item.Meta,{title:e.title,description:e.address,avatar:r.a.createElement(y.a,{src:e.image,shape:"square",size:64})}))}}):null;if(s)return r.a.createElement("div",{className:"listings"},r.a.createElement(v,{title:"Fetching Hotel list..."}));if(g)return r.a.createElement("div",{className:"listings"},r.a.createElement(v,{title:"Fetching Hotel list...",error:!0}));var z=M?r.a.createElement(p.a,{type:"error",message:"Uh oh! Something went wrong - please try again later :("}):null;return r.a.createElement("div",{className:"listings"},r.a.createElement(k.a,{spinning:L},r.a.createElement("h2",null,"Hotel list"),z,x,r.a.createElement(w,{modal:n,closeModal:function(){i({visible:!1,additionalInfo:{id:"",title:"",image:"",address:"",price:0,numOfGuests:0,numOfBeds:0,numOfBaths:0,rating:0,__typename:"Listing"}})}})))},N=new l.a({uri:"https://floating-citadel-42286.herokuapp.com/api"});Object(i.render)(r.a.createElement(c.a,{client:N},r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[152,1,2]]]);
//# sourceMappingURL=main.95df19c0.chunk.js.map